#include <SoftwareSerial.h>

SoftwareSerial mySerial(7, 8); // RX, TX
unsigned char sendCmd[8]={0xfe, 0x05, 0x91, 0x90, 0x14, 0x10, 0x02, 0xff};//LN33 读取模块地址的命令 对应的为FE 05 90 21 00 00 01 FF
String comdata = "";
String inputString = "1";         // a string to hold incoming data

int ledPin = 13;

void setup() {
  // Open serial communications and wait for port to open:
  Serial.begin(9600);
//  Serial1.begin(115200);
  mySerial.begin(115200);
  pinMode(ledPin, OUTPUT);
  inputString.reserve(200);
}

void loop() {
//   if (Serial1.available()) {
  if (mySerial.available()) {
    
    digitalWrite(ledPin, HIGH); 

    Serial.println(mySerial.read(),HEX);   
    while(mySerial.available()){
      Serial.println(mySerial.read(),HEX);
    }

    mySerial.write(sendCmd, 8);
   }

   delay(100);   
   digitalWrite(ledPin, LOW);
   delay(100);
}

